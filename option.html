<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paper Upload</title>
</head>
<body style="font-family: Arial, sans-serif; text-align: center; margin-top: 50px;">

  <h2>Upload Your Paper</h2>
  
  <!-- File Upload -->
  <input type="file" id="paperFile" />
  <button onclick="uploadPaper()">Upload</button>
  
  <p id="status"></p>
  <div id="fileLink"></div>

  <!-- Firebase SDK -->
  <script type="module">
    // Import Firebase SDKs
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-storage.js";

    // Your Firebase config
    const firebaseConfig = {
      projectId: "new-prototype-llvhl",
      appId: "1:294603651419:web:e9b6cc61a5f3de80a6027e",
      storageBucket: "new-prototype-llvhl.appspot.com",
      apiKey: "AIzaSyARYU6-dTVfjQph4qvnzQq3H53sGwS48mg",
      authDomain: "new-prototype-llvhl.firebaseapp.com",
      measurementId: "",
      messagingSenderId: "294603651419"
    };

    // Init Firebase
    const app = initializeApp(firebaseConfig);
    const storage = getStorage(app);

    // Upload Paper
    async function uploadPaper() {
      const fileInput = document.getElementById("paperFile");
      const status = document.getElementById("status");
      const fileLink = document.getElementById("fileLink");

      if (fileInput.files.length === 0) {
        alert("Please select a file first!");
        return;
      }

      const file = fileInput.files[0];
      const storageRef = ref(storage, "papers/" + file.name);

      status.innerText = "Uploading...";

      try {
        await uploadBytes(storageRef, file);
        const url = await getDownloadURL(storageRef);

        status.innerText = "Upload successful!";
        fileLink.innerHTML = `<a href="${url}" target="_blank">ðŸ“„ See Paper</a>`;
      } catch (error) {
        console.error(error);
        status.innerText = "Upload failed!";
      }
    }
  </script>

</body>
</html>
