<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buy Books - AbhiLearn</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color:#fff; min-height:100vh; display:flex; flex-direction:column; position:relative; }

/* Navbar */
.navbar {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 40px;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(10px);
  position:sticky;
  top:0;
  z-index:1000;
  border-bottom:1px solid rgba(255,255,255,0.1);
}

.navbar .logo {
  font-size:1.8rem;
  font-weight:700;
  color:#ffeb3b; 
  display:flex;
  align-items:center;
  gap:8px;
}

.logo-icon {
  font-size:2rem;
}

/* Back Button */
.back-btn {
  background: rgba(255,255,255,0.1);
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.3s ease;
}

.back-btn:hover {
  background: rgba(255,255,255,0.2);
  transform: translateX(-5px);
}

/* Main Content */
.main-content {
  flex: 1;
  padding: 30px;
  max-width: 1400px;
  margin: 0 auto;
  width: 100%;
}

.page-title {
  text-align: center;
  margin-bottom: 30px;
  color: #00ffcc;
  font-size: 2.5rem;
  text-shadow: 0 3px 15px rgba(0,0,0,0.5);
}

/* Search and Filters */
.search-filters {
  background: rgba(255,255,255,0.1);
  padding: 25px;
  border-radius: 15px;
  margin-bottom: 30px;
  backdrop-filter: blur(5px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.3);
}

.search-container {
  position: relative;
  margin-bottom: 20px;
}

.search-input {
  width: 100%;
  padding: 15px 20px 15px 50px;
  border-radius: 50px;
  border: 2px solid rgba(255,255,255,0.2);
  background: rgba(0,0,0,0.3);
  color: #fff;
  font-size: 1.1rem;
  transition: all 0.3s ease;
}

.search-input:focus {
  outline: none;
  border-color: #00ffcc;
  box-shadow: 0 0 15px rgba(0,255,204,0.3);
}

.search-icon {
  position: absolute;
  left: 20px;
  top: 50%;
  transform: translateY(-50%);
  color: #ccc;
}

.filters-container {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
}

.filter-group {
  flex: 1;
  min-width: 200px;
}

.filter-label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  color: #00ffcc;
}

.filter-select, .filter-input {
  width: 100%;
  padding: 12px 15px;
  border-radius: 8px;
  border: 2px solid rgba(255,255,255,0.2);
  background: rgba(0,0,0,0.3);
  color: #fff;
  font-family: 'Poppins', sans-serif;
}

.filter-select:focus, .filter-input:focus {
  outline: none;
  border-color: #00ffcc;
}

.price-range {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 10px;
}

.price-value {
  min-width: 60px;
  text-align: center;
  font-weight: 600;
  color: #00ffcc;
}

/* Books Grid */
.books-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 25px;
  margin-bottom: 40px;
}

.book-card {
  background: rgba(255,255,255,0.1);
  border-radius: 15px;
  overflow: hidden;
  transition: all 0.4s ease;
  box-shadow: 0 8px 25px rgba(0,0,0,0.3);
  backdrop-filter: blur(5px);
}

.book-card:hover {
  transform: translateY(-10px) scale(1.02);
  box-shadow: 0 15px 35px rgba(0,0,0,0.4);
  background: rgba(255,255,255,0.15);
}

.book-image {
  height: 200px;
  overflow: hidden;
}

.book-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s ease;
}

.book-card:hover .book-image img {
  transform: scale(1.1);
}

.book-details {
  padding: 20px;
}

.book-title {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 10px;
  color: #fff;
}

.book-author {
  color: #ccc;
  margin-bottom: 10px;
  font-size: 0.9rem;
}

.book-price {
  color: #00ffcc;
  font-weight: 700;
  font-size: 1.4rem;
  margin-bottom: 15px;
}

.book-price::before {
  content: 'â‚¹';
  font-size: 1rem;
}

.book-condition {
  display: inline-block;
  background: rgba(0,255,204,0.2);
  color: #00ffcc;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 0.8rem;
  margin-bottom: 15px;
}

.buy-btn {
  width: 100%;
  padding: 12px;
  background: linear-gradient(to right, #00ffcc, #00b3b3);
  color: #1e3c72;
  border: none;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.buy-btn:hover {
  background: linear-gradient(to right, #00e6b8, #009999);
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

/* Pagination */
.pagination {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 30px;
}

.pagination-btn {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  background: rgba(255,255,255,0.1);
  color: #fff;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
}

.pagination-btn:hover, .pagination-btn.active {
  background: #00ffcc;
  color: #1e3c72;
}

/* Purchase Form Modal */
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.8);
  backdrop-filter: blur(5px);
  z-index: 2000;
  overflow-y: auto;
}

.modal-content {
  background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
  margin: 50px auto;
  padding: 30px;
  border-radius: 15px;
  max-width: 600px;
  width: 90%;
  box-shadow: 0 15px 50px rgba(0,0,0,0.5);
  position: relative;
}

.close-modal {
  position: absolute;
  top: 20px;
  right: 25px;
  font-size: 1.8rem;
  color: #fff;
  cursor: pointer;
  transition: color 0.3s ease;
}

.close-modal:hover {
  color: #00ffcc;
}

.modal-title {
  text-align: center;
  margin-bottom: 25px;
  color: #00ffcc;
  font-size: 2rem;
}

.form-group {
  margin-bottom: 20px;
}

.form-label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  color: #00ffcc;
}

.form-input, .form-textarea, .form-select {
  width: 100%;
  padding: 12px 15px;
  border-radius: 8px;
  border: 2px solid rgba(255,255,255,0.2);
  background: rgba(0,0,0,0.3);
  color: #fff;
  font-family: 'Poppins', sans-serif;
}

.form-input:focus, .form-textarea:focus, .form-select:focus {
  outline: none;
  border-color: #00ffcc;
}

.form-textarea {
  min-height: 100px;
  resize: vertical;
}

.submit-btn {
  width: 100%;
  padding: 15px;
  background: linear-gradient(to right, #00ffcc, #00b3b3);
  color: #1e3c72;
  border: none;
  border-radius: 8px;
  font-weight: 700;
  font-size: 1.1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 10px;
}

.submit-btn:hover {
  background: linear-gradient(to right, #00e6b8, #009999);
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

/* Footer */
.footer {
  background: linear-gradient(to right, #0a1929, #142a4a, #1e3c72);
  padding: 60px 0 20px;
  margin-top: auto;
  box-shadow: 0 -5px 20px rgba(0,0,0,0.3);
}

.footer-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 30px;
  gap: 40px;
}

.footer-section {
  flex: 1;
  min-width: 250px;
}

.footer-heading {
  color: #00ffcc;
  font-size: 1.4rem;
  margin-bottom: 25px;
  position: relative;
  padding-bottom: 10px;
  font-weight: 700;
}

.footer-heading::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: 0;
  width: 50px;
  height: 3px;
  background: linear-gradient(to right, #00ffcc, #009e7a);
  border-radius: 3px;
}

.footer-links {
  list-style: none;
}

.footer-links li {
  margin-bottom: 15px;
}

.footer-links a {
  color: #fff;
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: all 0.3s ease;
  font-weight: 500;
}

.footer-links a:hover {
  color: #00ffcc;
  transform: translateX(5px);
}

.footer-links i {
  color: #00ffcc;
  font-size: 1.1rem;
  width: 25px;
}

.contact-info {
  color: #fff;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.contact-item {
  display: flex;
  align-items: center;
  gap: 15px;
}

.contact-item i {
  color: #00ffcc;
  font-size: 1.2rem;
  width: 25px;
}

.social-links {
  display: flex;
  gap: 15px;
  margin-top: 20px;
}

.social-links a {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: rgba(255,255,255,0.1);
  border-radius: 50%;
  color: #fff;
  font-size: 1.2rem;
  transition: all 0.3s ease;
}

.social-links a:hover {
  background: #00ffcc;
  color: #1e3c72;
  transform: translateY(-5px);
}

.newsletter p {
  margin-bottom: 20px;
  line-height: 1.6;
}

.newsletter-form {
  display: flex;
  gap: 10px;
}

.newsletter-input {
  flex: 1;
  padding: 12px 15px;
  border: none;
  border-radius: 5px;
  background: rgba(255,255,255,0.1);
  color: #fff;
  font-family: 'Poppins', sans-serif;
}

.newsletter-input::placeholder {
  color: #ccc;
}

.newsletter-btn {
  background: linear-gradient(to right, #00ffcc, #00b3b3);
  color: #1e3c72;
  border: none;
  padding: 0 20px;
  border-radius: 5px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.newsletter-btn:hover {
  background: linear-gradient(to right, #00e6b8, #009999);
  transform: translateY(-2px);
}

.footer-bottom {
  text-align: center;
  padding: 25px 0 10px;
  margin-top: 40px;
  border-top: 1px solid rgba(255,255,255,0.1);
}

.footer-bottom p {
  color: #ccc;
  font-size: 0.9rem;
}

.footer-bottom span {
  color: #00ffcc;
  font-weight: 600;
}

/* Responsive Design */
@media (max-width: 992px) {
  .navbar {
    padding: 15px 20px;
  }
  
  .main-content {
    padding: 20px;
  }
  
  .filters-container {
    flex-direction: column;
  }
  
  .books-grid {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  }
}

@media (max-width: 768px) {
  .page-title {
    font-size: 2rem;
  }
  
  .search-filters {
    padding: 20px;
  }
  
  .books-grid {
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 20px;
  }
  
  .footer-container {
    flex-direction: column;
    gap: 30px;
  }
  
  .newsletter-form {
    flex-direction: column;
  }
  
  .newsletter-btn {
    width: 100%;
    padding: 12px;
  }
}

@media (max-width: 576px) {
  .navbar {
    padding: 12px 15px;
  }
  
  .logo {
    font-size: 1.5rem;
  }
  
  .back-btn {
    padding: 8px 15px;
    font-size: 0.9rem;
  }
  
  .page-title {
    font-size: 1.8rem;
  }
  
  .books-grid {
    grid-template-columns: 1fr;
  }
  
  .modal-content {
    padding: 20px;
  }
}
</style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar">
  <a href="index2.html" class="logo">
    <span class="logo-icon">ðŸŽ“</span> AbhiLearn
  </a>
  <button class="back-btn" onclick="goBack()">
    <i class="fas fa-arrow-left"></i> Back
  </button>
</nav>

<!-- Main Content -->
<main class="main-content">
  <h1 class="page-title">Buy Books</h1>
  
  <!-- Search and Filters -->
  <section class="search-filters">
    <div class="search-container">
      <i class="fas fa-search search-icon"></i>
      <input type="text" class="search-input" placeholder="Search for books, authors, or subjects..." id="searchInput">
    </div>
    
    <div class="filters-container">
      <div class="filter-group">
        <label class="filter-label">Category</label>
        <select class="filter-select" id="categoryFilter">
          <option value="">All Categories</option>
          <option value="engineering">Engineering</option>
          <option value="programming">Programming</option>
          <option value="science">Science</option>
          <option value="mathematics">Mathematics</option>
          <option value="business">Business</option>
          <option value="fiction">Fiction</option>
        </select>
      </div>
      
      <div class="filter-group">
        <label class="filter-label">Condition</label>
        <select class="filter-select" id="conditionFilter">
          <option value="">Any Condition</option>
          <option value="new">New</option>
          <option value="like-new">Like New</option>
          <option value="good">Good</option>
          <option value="fair">Fair</option>
        </select>
      </div>
      
      <div class="filter-group">
        <label class="filter-label">Price Range</label>
        <input type="range" min="0" max="1000" value="500" class="filter-input" id="priceRange">
        <div class="price-range">
          <span>â‚¹0</span>
          <span class="price-value" id="priceValue">â‚¹500</span>
          <span>â‚¹1000+</span>
        </div>
      </div>
      
      <div class="filter-group">
        <label class="filter-label">Sort By</label>
        <select class="filter-select" id="sortFilter">
          <option value="newest">Newest First</option>
          <option value="price-low">Price: Low to High</option>
          <option value="price-high">Price: High to Low</option>
          <option value="popularity">Popularity</option>
        </select>
      </div>
    </div>
  </section>
  
  <!-- Books Grid -->
  <section class="books-grid" id="booksGrid">
    <!-- Books will be dynamically loaded here -->
  </section>
  
  <!-- Pagination -->
  <div class="pagination" id="pagination">
    <button class="pagination-btn active">1</button>
    <button class="pagination-btn">2</button>
    <button class="pagination-btn">3</button>
    <button class="pagination-btn">></button>
  </div>
</main>

<!-- Purchase Form Modal -->
<div class="modal" id="purchaseModal">
  <div class="modal-content">
    <span class="close-modal" id="closeModal">&times;</span>
    <h2 class="modal-title">Purchase Book</h2>
    
    <form id="purchaseForm">
      <div class="form-group">
        <label class="form-label">Book Title</label>
        <input type="text" class="form-input" id="modalBookTitle" readonly>
      </div>
      
      <div class="form-group">
        <label class="form-label">Price</label>
        <input type="text" class="form-input" id="modalBookPrice" readonly>
      </div>
      
      <div class="form-group">
        <label class="form-label">Your Name</label>
        <input type="text" class="form-input" placeholder="Enter your full name" required>
      </div>
      
      <div class="form-group">
        <label class="form-label">Email Address</label>
        <input type="email" class="form-input" placeholder="Enter your email" required>
      </div>
      
      <div class="form-group">
        <label class="form-label">Phone Number</label>
        <input type="tel" class="form-input" placeholder="Enter your phone number" required>
      </div>
      
      <div class="form-group">
        <label class="form-label">Delivery Address</label>
        <textarea class="form-textarea" placeholder="Enter your complete address" required></textarea>
      </div>
      
      <div class="form-group">
        <label class="form-label">Payment Method</label>
        <select class="form-select" required>
          <option value="">Select payment method</option>
          <option value="cash">Cash on Delivery</option>
          <option value="upi">UPI Payment</option>
          <option value="card">Credit/Debit Card</option>
        </select>
      </div>
      
      <button type="submit" class="submit-btn">Confirm Purchase</button>
    </form>
  </div>
</div>

<!-- Footer -->
<footer class="footer">
  <div class="footer-container">
    <div class="footer-section">
      <h3 class="footer-heading">About AbhiLearn</h3>
      <p style="color: #ccc; line-height: 1.6; margin-bottom: 20px;">
        AbhiLearn is your premier destination for exam preparation resources, providing previous year papers, study materials, second-hand books and comprehensive guides for various colleges and universities.
      </p>
      <div class="social-links">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="https://www.instagram.com/user_not_found1234567890123456?igsh=MTNpdWs2ZDU1aXI1cQ=="><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-linkedin-in"></i></a>
      </div>
    </div>
    
    <div class="footer-section">
      <h3 class="footer-heading">Quick Links</h3>
      <ul class="footer-links">
        <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
        <li><a href="books.html"><i class="fas fa-book"></i> Buy/Sell Books</a></li>
        <li><a href="papers.html"><i class="fas fa-file-alt"></i> Question Papers</a></li>
        <li><a href="materials.html"><i class="fas fa-book-open"></i> Study Materials</a></li>
        <li><a href="contact.html"><i class="fas fa-phone-alt"></i> Contact Us</a></li>
      </ul>
    </div>
    
    <div class="footer-section">
      <h3 class="footer-heading">Contact Info</h3>
      <div class="contact-info">
        <div class="contact-item">
          <i class="fas fa-map-marker-alt"></i>
          <span>Government College Road, Ropar</span>
        </div>
        <div class="contact-item">
          <i class="fas fa-phone"></i>
          <span>62395-47147</span>
        </div>
        <div class="contact-item">
          <i class="fas fa-envelope"></i>
          <span>info@abhilearn.netlify.app</span>
        </div>
        <div class="contact-item">
          <i class="fas fa-clock"></i>
          <span>24x7 Available</span>
        </div>
      </div>
    </div>
    
    <div class="footer-section">
      <h3 class="footer-heading">Newsletter</h3>
      <p style="color: #ccc; margin-bottom: 20px;">
        Subscribe to our newsletter for updates on new books, study materials and exam resources.
      </p>
      <form class="newsletter-form">
        <input type="email" class="newsletter-input" placeholder="Your Email Address" required>
        <button type="submit" class="newsletter-btn">Subscribe</button>
      </form>
    </div>
  </div>
  
  <div class="footer-bottom">
    <p>&copy; 2025 <span>AbhiLearn</span>. All Rights Reserved. | Designed with <i class="fas fa-heart" style="color: #ff3366;"></i></p>
  </div>
</footer>

<script>
// Sample book data
const books = [
  {
    id: 1,
    title: "C++ Programming Language",
    author: "Bjarne Stroustrup",
    price: 450,
    condition: "Like New",
    category: "programming",
    image: "https://images.unsplash.com/photo-1551029506-0807df4e2031?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80",
    description: "The classic C++ programming guide by the creator of C++."
  },
  {
    id: 2,
    title: "Database System Concepts",
    author: "Abraham Silberschatz",
    price: 550,
    condition: "Good",
    category: "programming",
    image: "https://images.unsplash.com/photo-1541963463532-d68292c34b19?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80",
    description: "Comprehensive textbook on database systems concepts."
  },
  {
    id: 3,
    title: "Engineering Mathematics",
    author: "K.A. Stroud",
    price: 350,
    condition: "Fair",
    category: "mathematics",
    image: "https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80",
    description: "Essential mathematics for engineering students."
  },
  {
    id: 4,
    title: "Data Structures and Algorithms",
    author: "Thomas H. Cormen",
    price: 600,
    condition: "New",
    category: "programming",
    image: "https://images.unsplash.com/photo-1550439062-609e1531270e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80",
    description: "Comprehensive guide to data structures and algorithms."
  },
  {
    id: 5,
    title: "Electrical Engineering Fundamentals",
    author: "Vincent Del Toro",
    price: 480,
    condition: "Good",
    category: "engineering",
    image: "https://images.unsplash.com/photo-1558901357-ca41e027e43a?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80",
    description: "Fundamental concepts of electrical engineering."
  },
  {
    id: 6,
    title: "Mechanical Engineering Principles",
    author: "John Bird",
    price: 520,
    condition: "Like New",
    category: "engineering",
    image: "https://images.unsplash.com/photo-1589998059171-988d887df646?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80",
    description: "Principles and applications of mechanical engineering."
  },
  {
    id: 7,
    title: "Physics for Scientists and Engineers",
    author: "Raymond A. Serway",
    price: 650,
    condition: "New",
    category: "science",
    image: "https://images.unsplash.com/photo-1532012197267-da84d127e765?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80",
    description: "Comprehensive physics textbook for science and engineering students."
  },
  {
    id: 8,
    title: "Business Analytics",
    author: "James Evans",
    price: 580,
    condition: "Good",
    category: "business",
    image: "https://images.unsplash.com/photo-1553484771-11998c592b9c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80",
    description: "Data analysis and decision making for business."
  }
];

// DOM Elements
const booksGrid = document.getElementById('booksGrid');
const searchInput = document.getElementById('searchInput');
const categoryFilter = document.getElementById('categoryFilter');
const conditionFilter = document.getElementById('conditionFilter');
const priceRange = document.getElementById('priceRange');
const priceValue = document.getElementById('priceValue');
const sortFilter = document.getElementById('sortFilter');
const purchaseModal = document.getElementById('purchaseModal');
const closeModal = document.getElementById('closeModal');
const purchaseForm = document.getElementById('purchaseForm');
const modalBookTitle = document.getElementById('modalBookTitle');
const modalBookPrice = document.getElementById('modalBookPrice');

// Display books
function displayBooks(booksToDisplay) {
  booksGrid.innerHTML = '';
  
  if (booksToDisplay.length === 0) {
    booksGrid.innerHTML = '<p class="no-books">No books found matching your criteria.</p>';
    return;
  }
  
  booksToDisplay.forEach(book => {
    const bookCard = document.createElement('div');
    bookCard.className = 'book-card';
    bookCard.innerHTML = `
      <div class="book-image">
        <img src="${book.image}" alt="${book.title}">
      </div>
      <div class="book-details">
        <h3 class="book-title">${book.title}</h3>
        <p class="book-author">by ${book.author}</p>
        <div class="book-condition">${book.condition}</div>
        <div class="book-price">${book.price}</div>
        <button class="buy-btn" data-id="${book.id}">
          <i class="fas fa-shopping-cart"></i> Buy Now
        </button>
      </div>
    `;
    booksGrid.appendChild(bookCard);
  });
  
  // Add event listeners to buy buttons
  document.querySelectorAll('.buy-btn').forEach(button => {
    button.addEventListener('click', (e) => {
      const bookId = parseInt(e.target.closest('.buy-btn').dataset.id);
      openPurchaseModal(bookId);
    });
  });
}

// Filter books based on criteria
function filterBooks() {
  const searchText = searchInput.value.toLowerCase();
  const category = categoryFilter.value;
  const condition = conditionFilter.value;
  const maxPrice = parseInt(priceRange.value);
  const sortBy = sortFilter.value;
  
  let filteredBooks = books.filter(book => {
    const matchesSearch = book.title.toLowerCase().includes(searchText) || 
                          book.author.toLowerCase().includes(searchText) ||
                          book.description.toLowerCase().includes(searchText);
    const matchesCategory = category === '' || book.category === category;
    const matchesCondition = condition === '' || book.condition.toLowerCase() === condition.toLowerCase();
    const matchesPrice = book.price <= maxPrice;
    
    return matchesSearch && matchesCategory && matchesCondition && matchesPrice;
  });
  
  // Sort books
  switch(sortBy) {
    case 'price-low':
      filteredBooks.sort((a, b) => a.price - b.price);
      break;
    case 'price-high':
      filteredBooks.sort((a, b) => b.price - a.price);
      break;
    case 'newest':
    default:
      // Already sorted by ID (which simulates newest first)
      break;
  }
  
  displayBooks(filteredBooks);
}

// Open purchase modal
function openPurchaseModal(bookId) {
  const book = books.find(b => b.id === bookId);
  if (book) {
    modalBookTitle.value = book.title;
    modalBookPrice.value = `â‚¹${book.price}`;
    purchaseModal.style.display = 'block';
    document.body.style.overflow = 'hidden'; // Prevent scrolling
  }
}

// Close purchase modal
function closePurchaseModal() {
  purchaseModal.style.display = 'none';
  document.body.style.overflow = 'auto'; // Enable scrolling
}

// Go back to previous page
function goBack() {
  window.history.back();
}

// Event Listeners
searchInput.addEventListener('input', filterBooks);
categoryFilter.addEventListener('change', filterBooks);
conditionFilter.addEventListener('change', filterBooks);
priceRange.addEventListener('input', () => {
  priceValue.textContent = `â‚¹${priceRange.value}`;
  filterBooks();
});
sortFilter.addEventListener('change', filterBooks);
closeModal.addEventListener('click', closePurchaseModal);
purchaseForm.addEventListener('submit', (e) => {
  e.preventDefault();
  alert('Purchase successful! You will receive a confirmation email shortly.');
  closePurchaseModal();
});

// Close modal if clicked outside
window.addEventListener('click', (e) => {
  if (e.target === purchaseModal) {
    closePurchaseModal();
  }
});

// Initialize page
displayBooks(books);
priceValue.textContent = `â‚¹${priceRange.value}`;
</script>

</body>
</html>
